# --- Configura��o do Banco de Dados H2 ---

server.address=0.0.0.0
server.port=8080

# Habilita o console web do H2
#spring.h2.console.enabled=true
# Define a URL para acessar o console
#spring.h2.console.path=/h2-console

# URL de conex�o JDBC. 'mem' significa em mem�ria. 'karaokedb' � o nome do nosso banco.
#spring.datasource.url=jdbc:h2:mem:karaokedb
# Driver JDBC do H2
#spring.datasource.driverClassName=org.h2.Driver
# Usu�rio padr�o do H2
#spring.datasource.username=admin
# Senha (pode deixar em branco, mas � bom definir para o console)
#spring.datasource.password=123

# --- Configura��o do JPA (Hibernate) ---

# Diz ao Hibernate qual "dialeto" SQL usar para se comunicar com o H2
#spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# MUITO IMPORTANTE: Define como as tabelas do banco ser�o criadas.
# 'update': atualiza o schema (tabelas) se houver mudan�as nos seus @Entity.
# 'create-drop': cria as tabelas ao iniciar e as apaga ao finalizar. �timo para testes.
#spring.jpa.hibernate.ddl-auto=create-drop

# Show SQL for debugging tests
#spring.jpa.show-sql=true
#logging.level.org.hibernate.SQL=DEBUG
#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE


# ===================================================================
# CONFIGURAÇÃO HÍBRIDA (LOCAL vs PRODUÇÃO)
# ===================================================================

# 1. URL DE CONEXÃO
# Lógica: Tenta pegar a URL da nuvem (${DB_URL}). 
# Se não achar (está local), usa o endereço do Docker (:jdbc:postgresql://...)
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/karaq}

# 2. USUÁRIO
# Lógica: Tenta pegar ${DB_USERNAME} da nuvem, senão usa 'postgres'
spring.datasource.username=${DB_USERNAME:postgres}

# 3. SENHA
# Lógica: Tenta pegar ${DB_PASSWORD} da nuvem, senão usa 'password123'
spring.datasource.password=${DB_PASSWORD:password123}

# ===================================================================
# JPA & HIBERNATE
# ===================================================================
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# --- Configura��o do JWT (JSON Web Token) ---

# Chave secreta em Base64 para assinatura dos tokens (DEVE SER LONGA)
jwt.secret-key=bWluaGFjaGF2ZXN1cGVyc2VjcmV0YWVjdW1wcmlkYTEyMzQ1Njc4OTA=
# Tempo de expira��o do token em milissegundos (7200000 ms = 2 horas)
jwt.expiration=7200000

# ---- API KEY DO YOUTOUBE ---- # 

youtube.api.key=AIzaSyAVAycqwz5UEDrE4cYNByMj4froM_LdBhU


# quando subir no render trocar em cima por aqui:
# youtube.api.key=${YOUTUBE_API_KEY}


spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
spring.jackson.charset=UTF-8